<!DOCTYPE html>
<html>
<head>
  <title>Edit Customer</title>
  <style>
    body { font-family: Arial, sans-serif; background:#1e1e1e; color:#fff; }
    .container {
      width: 650px;
      margin: 40px auto;
      padding: 30px;
      background:#2a2a2a;
      border-radius: 12px;
      box-shadow:0 4px 15px rgba(0,0,0,0.5);
    }
    h2 { text-align:center; margin-bottom:20px; color:#00adb5; }
    label { display:block; margin:10px 0 5px; }
    input, button {
      width:100%;
      padding:12px;
      margin-bottom:15px;
      border:none;
      border-radius:6px;
      font-size:15px;
    }
    input { background:#333; color:#fff; }
    button { background:#00adb5; color:#fff; cursor:pointer; font-weight:bold; transition:0.3s; }
    button:hover { background:#00929b; }
    .btn-update { background:green; }
    .btn-update:hover { background:#0f7a0f; }
    .btn-delete { background:red; }
    .btn-delete:hover { background:#b30000; }
    .error { color:red; margin-bottom:10px; text-align:center; }
    .back-link {
      display:block; 
      text-align:center; 
      margin-top:15px; 
      color:#00adb5; 
      text-decoration:none;
    }
    .back-link:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Edit Customer</h2>

    <% if (error) { %>
      <p class="error"><%= error %></p>
    <% } %>

    <!-- Search form -->
    <% if (!customer) { %>
      <form action="/employee/edit-customer/search" method="POST">
        <label>Account Number:</label>
        <input type="text" name="account_no" required />

        <label>Full Name:</label>
        <input type="text" name="fullname" required />

        <button type="submit">Search Customer</button>
      </form>
    <% } %>

    <!-- If customer found -->
    <% if (customer) { %>
      <form action="/employee/edit-customer/update/<%= customer.customer_id %>" method="POST">
        <label>Full Name:</label>
        <input type="text" name="fullname" value="<%= customer.fullname %>" required />

        <label>Address:</label>
        <input type="text" name="address" value="<%= customer.address %>" required />

        <label>Phone:</label>
        <input type="text" name="phone" value="<%= customer.phone %>" required />

        <label>Email:</label>
        <input type="email" name="email" value="<%= customer.email %>" required />

        <button class="btn-update" type="submit">Update Customer</button>
      </form>

      <form action="/employee/edit-customer/delete/<%= customer.customer_id %>" method="POST">
        <button class="btn-delete" type="submit">Delete Account</button>
      </form>
    <% } %>

    <a href="/employee-dashboard" class="back-link">â¬… Back to Dashboard</a>
  </div>
</body>
</html>
